title(main = "Transitions vs Total RTR incidents") # adds title
abline(h=median(elgCrime$Total_transitions), lty=2, lwd=2)
abline(v=median(elgCrime$Total_RTR_incidents), lwd=2, col="red")
abline(lm(elgCrime$Total_transitions~elgCrime$Total_RTR_incidents))
dev.off() # Then turn off dev and you can view the plot
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
plot(df$Total_RTR_incidents, df$UOF_only,
main = "UOF vs Total RTR incidents",
# sub = "Daily Herald graphic",
xlab="Total response to resistance incidents",
ylab="Use of force incidents only")
y2014 <- subset(df, years==2014)
points(y2014$Total_RTR_incidents,y2014$UOF_only,col="red",pch=19)
y2015 <- subset(df, years==2015)
points(y2015$Total_RTR_incidents,y2015$UOF_only,col="blue",pch=19)
y2016 <- subset(df, years==2016)
points(y2016$Total_RTR_incidents,y2016$UOF_only,col="green",pch=19)
legend("topleft", pch = c(19,19,19), col = c("red","blue","green"), legend = c("2014", "2015", "2016"))
abline(lm(df$UOF_only~df$Total_RTR_incidents))
dev.cur()
pdf(file="myplot2.pdf", width = 3.75, height = 3.5)
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
plot(df$Total_RTR_incidents, df$UOF_only,
main = "UOF vs Total RTR incidents",
# sub = "Daily Herald graphic",
xlab="Total response to resistance incidents",
ylab="Use of force incidents only")
y2014 <- subset(df, years==2014)
points(y2014$Total_RTR_incidents,y2014$UOF_only,col="red",pch=19)
y2015 <- subset(df, years==2015)
points(y2015$Total_RTR_incidents,y2015$UOF_only,col="blue",pch=19)
y2016 <- subset(df, years==2016)
points(y2016$Total_RTR_incidents,y2016$UOF_only,col="green",pch=19)
legend("topleft", pch = c(19,19,19), col = c("red","blue","green"), legend = c("2014", "2015", "2016"))
abline(lm(df$UOF_only~df$Total_RTR_incidents))
dev.cur()
pdf(file="myplot2.pdf", width = 3.75, height = 3.5)
plot(df$Total_RTR_incidents, df$UOF_only,
main = "UOF vs Total RTR incidents",
xlab="Total response to resistance incidents",
ylab="Use of force incidents only")
points(y2014$Total_RTR_incidents,y2014$UOF_only,col="red",pch=19)
points(y2015$Total_RTR_incidents,y2015$UOF_only,col="blue",pch=19)
points(y2016$Total_RTR_incidents,y2016$UOF_only,col="green",pch=19)
legend("topleft", pch = c(19,19,19), col = c("red","blue","green"), legend = c("2014", "2015", "2016"))
abline(lm(df$UOF_only~df$Total_RTR_incidents))
dev.off()
summary(df)
plot(df$Total_RTR_incidents, df$UOF_only,
main = "Response to resistance incidents",
xlab="Total response to resistance incidents",
ylab="Response by type",
xlim=c(20,60), ylim=c(0,40),col="red",pch=19)
points(df$Total_RTR_incidents,df$SOF_only,col="blue",pch=19)
points(df$Total_RTR_incidents,df$Total_transitions,col="green",pch=19)
legend("topleft", pch = c(19,19,19), col = c("red","blue","green"), legend = c("UOF", "SOF", "Transitions"))
abline(lm(df$UOF_only~df$Total_RTR_incidents, par(col="red")))
abline(lm(df$SOF_only~df$Total_RTR_incidents, par(col="blue")))
abline(lm(df$Total_transitions~df$Total_RTR_incidents, par(col="green")))
dev.cur()
pdf(file="myplot3.pdf", width = 4, height = 4)
plot(df$Total_RTR_incidents, df$UOF_only,
main = "Response to resistance incidents",
xlab="Total response to resistance incidents",
ylab="Response by type",
xlim=c(20,60), ylim=c(0,40),col="red",pch=19)
points(df$Total_RTR_incidents,df$SOF_only,col="blue",pch=19)
points(df$Total_RTR_incidents,df$Total_transitions,col="green",pch=19)
legend("topleft", pch = c(19,19,19), col = c("red","blue","green"), legend = c("UOF", "SOF", "Transitions"))
abline(lm(df$UOF_only~df$Total_RTR_incidents, par(col="red")))
abline(lm(df$SOF_only~df$Total_RTR_incidents, par(col="blue")))
abline(lm(df$Total_transitions~df$Total_RTR_incidents, par(col="green")))
dev.off()
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
plot(df$Total_RTR_incidents, df$UOF_only,
main = "UOF vs Total RTR incidents",
# sub = "Daily Herald graphic",
xlab="Total response to resistance incidents",
ylab="Use of force incidents only")
y2014 <- subset(df, years==2014)
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
plot(df$Total_RTR_incidents, df$UOF_only,
main = "UOF vs Total RTR incidents",
# sub = "Daily Herald graphic",
xlab="Total response to resistance incidents",
ylab="Use of force incidents only")
y2014 <- subset(df, years==2014)
points(y2014$Total_RTR_incidents,y2014$UOF_only,col="red",pch=19)
y2015 <- subset(df, years==2015)
points(y2015$Total_RTR_incidents,y2015$UOF_only,col="blue",pch=19)
y2016 <- subset(df, years==2016)
points(y2016$Total_RTR_incidents,y2016$UOF_only,col="green",pch=19)
legend("topleft", pch = c(19,19,19), col = c("red","blue","green"), legend = c("2014", "2015", "2016"))
abline(lm(df$UOF_only~df$Total_RTR_incidents))
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
library(ggplot2)
library(ggthemes)
qplot(Total_RTR_incidents,
data=df,
alpha=.05, # sets transparency
fill=factor(years)
)
qplot(Total_RTR_incidents, data=df,
geom="density",
fill=factor(years),
alpha=I(.5),
main="Distribution of RTR incidents",
xlab="Total RTR incidents",
ylab="Density")
qplot(y=Total_RTR_incidents,
data=df
) + geom_smooth(method = "lm")
qplot(y=Total_RTR_incidents,
data=df,
color=factor(years)
)
qplot(UOF_only,Total_RTR_incidents,
data=df,
geom=c("point","smooth")
)
qplot(UOF_only,Total_RTR_incidents,
data=df,
color=factor(years)
) + geom_smooth(method = "lm")#, se = FALSE)
qplot(UOF_only,SOF_only,
data=df,
color=factor(years),
facets = Total_RTR_incidents~factor(years),
xlab="UOF", ylab="SOF")
qplot(factor(years), SOF_only,
data=df,
geom=c("boxplot", "jitter"),
fill=factor(years),
alpha=.5,
main="SOF by Year",
xlab="Year", ylab="SOF")
qplot(factor(years), SOF_only,
data=df,
geom=c("dotplot", "jitter"),
fill=factor(years),
alpha=.5,
main="SOF by Year",
xlab="Year", ylab="SOF")
qplot(factor(years), SOF_only,
data=df,
geom=c("dotplot"),
fill=factor(years),
stackdir = "center", binaxis = "y"
main="SOF by Year",
xlab="Year", ylab="SOF")
qplot(factor(years), SOF_only,
data=df,
geom=c("dotplot"),
fill=factor(years),
stackdir = "center", binaxis = "y",
main="SOF by Year",
xlab="Year", ylab="SOF")
qplot(Total_RTR_incidents, data=df,
geom="density",
fill=factor(years),
alpha=I(.5),
main="Distribution of RTR incidents",
xlab="Total RTR incidents",
ylab="Density")
qplot(Total_RTR_incidents, data=df,
geom="density",
fill=factor(years),
linetype = factor(years),
alpha=I(.5),
main="Distribution of RTR incidents",
xlab="Total RTR incidents",
ylab="Density")
qplot(Total_RTR_incidents, data=df,
geom="density",
color=factor(years),
fill=factor(years),
linetype = factor(years),
alpha=I(.5),
main="Distribution of RTR incidents",
xlab="Total RTR incidents",
ylab="Density")
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
plot(df$Total_RTR_incidents, type="b",
xlab = "Year, Quarter",
ylab = "Incidents",
main = "Total RTR incidents")
xrange <- range(1,NROW(df$Year_Quarter))
xrange
yrange <- range(0,df$SOF_only,df$UOF_only,df$Total_transitions)
yrange
plot(xrange, yrange, type="n", axes=FALSE,
xlab = "Year, Quarter", ylab = "Incidents",
main = "Total RTR incidents")
lines(df$SOF_only, type = "b", pch=19, col = "orange", lwd=2)
lines(df$UOF_only, type = "b", pch=19, col = "blue", lwd=2)
lines(df$Total_transitions, type = "b", pch=19, col = "darkgreen", lwd=2)
axis(1, las=1, at=1:xrange[2],
tck = .05, # set the ticks to be inside plot
# Since we're creating custom labels, we need 12 of them
# so "" at 1, then 2014 2Q and etc
# notice we can split the lines with \n
# and the x label adjusts down to accomodate
lab=c("","2014\n2Q","","2014\n4Q","","2015\n2Q","","2015\n4Q","","2016\n2Q","","2016\n4Q") )
axis(2, las=1, at=5*0:yrange[2], tck = 1, lty=3)
legend(1, yrange[2], c("SOF Only","UOF only", "Transition"),
cex=0.8, col=c("Orange","blue","darkgreen"), pch=19, lwd=2)
dev.cur()
png(filename = "myplotlines.png",width = 600, height = 400, units = "px")
plot(xrange, yrange, type="n", axes=FALSE,
xlab = "Year, Quarter", ylab = "Incidents",
main = "Total RTR incidents")
lines(df$SOF_only, type = "b", pch=19, col = "orange", lwd=2)
lines(df$UOF_only, type = "b", pch=19, col = "blue", lwd=2)
lines(df$Total_transitions, type = "b", pch=19, col = "darkgreen", lwd=2)
axis(1, las=1, at=1:xrange[2], tck = .05, lab=c("","2014\n2Q","","2014\n4Q","","2015\n2Q","","2015\n4Q","","2016\n2Q","","2016\n4Q") )
axis(2, las=1, at=5*0:yrange[2], tck = 1, lty=3)
legend(1, yrange[2], c("SOF Only","UOF only", "Transition"),
cex=0.8, col=c("Orange","blue","darkgreen"), pch=19, lwd=2)
dev.off()
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
plot(df$Total_RTR_incidents, type="b",
xlab = "Year, Quarter",
ylab = "Incidents",
main = "Total RTR incidents")
xrange <- range(1,NROW(df$Year_Quarter))
xrange
yrange <- range(0,df$SOF_only,df$UOF_only,df$Total_transitions)
yrange
plot(xrange, yrange, type="n", axes=FALSE,
xlab = "Year, Quarter", ylab = "Incidents",
main = "Total RTR incidents")
lines(df$SOF_only, type = "b", pch=19, col = "orange", lwd=2)
lines(df$UOF_only, type = "b", pch=19, col = "blue", lwd=2)
lines(df$Total_transitions, type = "b", pch=19, col = "darkgreen", lwd=2)
axis(1, las=1, at=1:xrange[2],
tck = .05, # set the ticks to be inside plot
# Since we're creating custom labels, we need 12 of them
# so "" at 1, then 2014 2Q and etc
# notice we can split the lines with \n
# and the x label adjusts down to accomodate
lab=c("","2014\n2Q","","2014\n4Q","","2015\n2Q","","2015\n4Q","","2016\n2Q","","2016\n4Q") )
axis(2, las=1, at=5*0:yrange[2], tck = 1, lty=3)
legend(1, yrange[2], c("SOF Only","UOF only", "Transition"),
cex=0.8, col=c("Orange","blue","darkgreen"), pch=19, lwd=2)
dev.cur()
png(filename = "myplotlines.png",width = 600, height = 400, units = "px")
plot(xrange, yrange, type="n", axes=FALSE,
xlab = "Year, Quarter", ylab = "Incidents",
main = "Total RTR incidents")
lines(df$SOF_only, type = "b", pch=19, col = "orange", lwd=2)
lines(df$UOF_only, type = "b", pch=19, col = "blue", lwd=2)
lines(df$Total_transitions, type = "b", pch=19, col = "darkgreen", lwd=2)
axis(1, las=1, at=1:xrange[2], tck = .05, lab=c("","2014\n2Q","","2014\n4Q","","2015\n2Q","","2015\n4Q","","2016\n2Q","","2016\n4Q") )
axis(2, las=1, at=5*0:yrange[2], tck = 1, lty=3)
legend(1, yrange[2], c("SOF Only","UOF only", "Transition"),
cex=0.8, col=c("Orange","blue","darkgreen"), pch=19, lwd=2)
dev.off()
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
library(ggplot2)
library(ggthemes)
qplot(Total_RTR_incidents,
data=df,
alpha=.05, # sets transparency
fill=factor(years)
)
qplot(Total_RTR_incidents, data=df,
geom="density",
color=factor(years),
fill=factor(years),
linetype = factor(years),
alpha=I(.5),
main="Distribution of RTR incidents",
xlab="Total RTR incidents",
ylab="Density")
qplot(Total_RTR_incidents, data=df,
geom="density",
color=factor(years),
fill=factor(years),
linetype = factor(years),
alpha=.5,
main="Distribution of RTR incidents",
xlab="Total RTR incidents",
ylab="Density")
I(
qplot(Total_RTR_incidents, data=df,
geom="density",
color=factor(years),
fill=factor(years),
linetype = factor(years),
alpha=I(.5),
main="Distribution of RTR incidents",
xlab="Total RTR incidents",
ylab="Density")
qplot(Total_RTR_incidents,
data=df,
alpha=.05, # sets transparency
fill=factor(years)
)
qplot(Total_RTR_incidents,
data=df,
alpha=.05, # sets transparency
fill=factor(years)
)
qplot(Total_RTR_incidents, data=df,
geom="density",
color=factor(years),
fill=factor(years),
linetype = factor(years),
alpha=I(.5),
main="Distribution of RTR incidents",
xlab="Total RTR incidents",
ylab="Density")
qplot(y=Total_RTR_incidents,
data=df
) + geom_smooth(method = "lm")
qplot(y=Total_RTR_incidents,
data=df,
color=factor(years)
)
qplot(UOF_only,Total_RTR_incidents,
data=df,
geom=c("point","smooth")
)
qplot(UOF_only,Total_RTR_incidents,
data=df,
color=factor(years)
) + geom_smooth(method = "lm")#, se = FALSE)
qplot(UOF_only,SOF_only,
data=df,
color=factor(years),
facets = Total_RTR_incidents~factor(years),
xlab="UOF", ylab="SOF")
qplot(factor(years), SOF_only,
data=df,
geom=c("boxplot", "jitter"),
fill=factor(years),
alpha=.5,
main="SOF by Year",
xlab="Year", ylab="SOF")
qplot(factor(years), SOF_only,
data=df,
geom=c("boxplot", "jitter"),
fill=factor(years),
alpha=I(.5),
main="SOF by Year",
xlab="Year", ylab="SOF")
qplot(factor(years), SOF_only,
data=df,
geom=c("dotplot"),
fill=factor(years),
stackdir = "center", binaxis = "y",
main="SOF by Year",
xlab="Year", ylab="SOF")
qplot(factor(years), SOF_only,
data=df,
geom=c("dotplot"),
fill=factor(years),
stackdir = "center", binaxis = "y",
main="SOF by Year",
xlab="Year", ylab="SOF")  + coord_flip()
qplot(factor(Years_Quarter), SOF_only,
data=df,
geom=c("dotplot"),
fill=factor(years),
stackdir = "center", binaxis = "y",
main="SOF by Year",
xlab="Year", ylab="SOF")  + coord_flip()
qplot(factor(Year_Quarter), SOF_only,
data=df,
geom=c("dotplot"),
fill=factor(years),
stackdir = "center", binaxis = "y",
main="SOF by Year",
xlab="Year", ylab="SOF")  + coord_flip()
qplot(factor(Year_Quarter), SOF_only,
data=df,
geom=c("dotplot"),
fill=factor(years),
stackdir = "center", binaxis = "y",
main="SOF by Year, quarter",
xlab="Year", ylab="SOF")  + coord_flip()
View(dfsub)
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
dfUOF <- subset(df, select = c("years","Year_Quarter","UOF_only"))
dfSOF <- subset(df, select = c("years","Year_Quarter","SOF_only"))
dfTRAN <- subset(df, select = c("years","Year_Quarter","Total_transitions"))
dfUOF$force <- "UOF_only"
dfSOF$force <- "SOF_only"
dfTRAN$force <- "Total_transitions"
names(dfUOF)[names(dfUOF)=="UOF_only"] <- "value"
names(dfSOF)[names(dfSOF)=="SOF_only"] <- "value"
names(dfTRAN)[names(dfTRAN)=="Total_transitions"] <- "value"
dfsub <- rbind(dfUOF,dfSOF,dfTRAN)
dfsub
write_csv(dfsub,"dfsubset.csv")
dfrtr <- subset(df, select = c("years","Year_Quarter","Total_RTR_incidents"))
write_csv(dfrtr,"dfRTR.csv")
View(dfrtr)
library(readr)
df <- read_csv("dfsubset.csv")
dfrtr <- read_csv("dfRTR.csv")
View(df)
View(dfrtr)
library(ggplot2)
library(ggthemes)
pBar <- ggplot(df, aes(Year_Quarter, value, fill = force)) +
geom_bar(position = "stack", stat="identity") + coord_flip()
pBar
pBar2 <- ggplot(df, aes(Year_Quarter, value, fill = force)) +
geom_bar(position = "dodge", stat="identity") + coord_flip()
pBar2
pLine <- ggplot(df, aes(Year_Quarter, value, group = force, col = force))
pLine + geom_point(stat="identity") + geom_line(stat="identity")
p1 <- ggplot() + geom_line(aes(y = value, x = Year_Quarter, group = force, colour = force),
data = df, stat="identity")
p1
library(readr)
df <- read_csv("dfsubset.csv")
dfrtr <- read_csv("dfRTR.csv")
library(ggplot2)
library(ggthemes)
pBar <- ggplot(df, aes(Year_Quarter, value, fill = force)) +
geom_bar(position = "stack", stat="identity") + coord_flip()
pBar
ggplot(dfrtr, aes(Year_Quarter, value, fill = force))
View(df)
View(dfrtr)
ggplot(dfrtr, aes(Year_Quarter, Total_RTR_Incidents, fill = years))
ggplot(dfrtr, aes(Year_Quarter, Total_RTR_incidents, fill = years))
+ coord_flip()
basebar <- ggplot(dfrtr, aes(Year_Quarter, Total_RTR_incidents, fill = years)) + coord_flip()
basebar
basebar <- ggplot() + geom_bar(aes(y = Year_Quarter, x = Total_RTR_incidents, fill = years),
data = dfrtr,
stat="identity")
basebar
basebar <- ggplot() + geom_bar(aes(y = Year_Quarter, x = Total_RTR_incidents,
fill = factor(years) ),
data = dfrtr,
stat="identity")
basebar
basebar <- ggplot() + geom_bar(aes(x = Year_Quarter, y = Total_RTR_incidents,
fill = factor(years) ),
data = dfrtr,
stat="identity")
basebar
basebar <- ggplot() + geom_bar(aes(x = Year_Quarter, y = Total_RTR_incidents,
fill = factor(years) ),
data = dfrtr,
stat="identity") + coord_flip()
basebar
basebar <- ggplot(dfrtr,
aes(x=Year_Quarter,
y=Total_RTR_incidents,
fill = factor(years) )) + coord_flip()
basebar
basebar <- ggplot(data=dfrtr,
aes(x=Year_Quarter,
y=Total_RTR_incidents,
fill = factor(years) )) + coord_flip()
basebar
basebar <- ggplot(data=dfrtr,
aes(x=Year_Quarter,
y=Total_RTR_incidents,
fill = factor(years) )) +
geom_bar() +
coord_flip()
basebar
basebar <- ggplot() + geom_bar(aes(x = Year_Quarter, y = Total_RTR_incidents,
fill = factor(years) ),
data = dfrtr,
stat="identity") + coord_flip()
basebar
pBar <- ggplot() +
geom_bar(data=df,
aes(Year_Quarter, value, fill = force),
position = "stack",
stat="identity") + coord_flip()
pBar
pBar2 <- ggplot() +
geom_bar(data=df,
aes(Year_Quarter, value, fill = force),
position = "dodge",
stat="identity") + coord_flip()
pBar2
