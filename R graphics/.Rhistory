y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
basebar
library(readr)
library(ggplot2)
library(ggthemes)
df <- read_csv("dfCrime.csv")
df <-df[order(df$Year_Quarter),]
head(df)
df$sort <- seq.int(nrow(df))
head(df)
dfrtr <- subset(df, select = c("year","Year_Quarter","Total_RTR","sort"))
write_csv(dfrtr,"dfrtr.csv")
summary(dfrtr)
basebar <- ggplot(dfrtr) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year),
label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
basebar <- basebar + labs(
title="Response to resistance", # your headline
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
basebar
basebar <- ggplot(dfrtr) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year),
label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
basebar
basebar <- ggplot(dfrtr) +
aes(x = Year_Quarter,#reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year),
label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
basebar
basebar <- ggplot(dfrtr) +
aes(x = Year_Quarter,#reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +#,
#label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
basebar
library(readr)
library(ggplot2)
library(ggthemes)
df <- read_csv("dfCrime.csv")
basebar <- ggplot(df) +
aes(x = Year_Quarter,#reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +#,
#label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
basebar
basebar <- ggplot(df) +
aes(x = Year_Quarter,#reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +#,
#label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
basebar
df <-df[order(df$Year_Quarter),]
df$sort <- seq.int(nrow(df))
head(df)
head(df)
df <-df[order(df$Year_Quarter),]
df$sort <- seq.int(nrow(df))
head(df)
dfrtr <- subset(df, select = c("year","Year_Quarter","Total_RTR","sort"))
write_csv(dfrtr,"dfrtr.csv")
summary(dfrtr)
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +#,
#label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
basebar
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +#,
#label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
# add all the titles.
basebar <- basebar + labs(
title="Response to resistance", # your headline
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +#,
#label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
# add all the titles.
basebar <- basebar + labs(
title="Response to resistance", # your headline
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
# Remove lengend
basebar <- basebar + theme(legend.position="None")
basebar
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +#,
#label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
# add all the titles.
basebar <- basebar + labs(
title="Response to resistance", # your headline
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
# Remove lengend
basebar <- basebar + theme(legend.position="None")
# Better x labels
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
basebar
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +#,
#label = Total_RTR) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip()
# add all the titles.
basebar <- basebar + labs(
title="Response to resistance",
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
# Remove lengend
basebar <- basebar + theme(legend.position="None")
# Better x labels
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
# add values to the bars
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar
library(readr)
library(ggplot2)
library(ggthemes)
df <- read_csv("dfCrime.csv")
df <-df[order(df$Year_Quarter),]
df$sort <- seq.int(nrow(df))
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +
geom_bar(stat="identity") +
coord_flip()
basebar <- basebar + labs(
title="Response to resistance",
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar
?geom_text
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +
geom_bar(stat="identity") +
coord_flip()
# add all the titles.
basebar <- basebar + labs(
title="Response to resistance",
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
# Remove lengend
basebar <- basebar + theme(legend.position="None")
# Better x labels
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
# add values to the bars
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar
theme_gfx <- function(...) {
theme_fivethirtyeight() +
theme(
# edit background colors
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
panel.background=element_rect(fill="#E0E0E0"),
strip.background=element_rect(fill="#E0E0E0"),
# edit font sizes
plot.title = element_text(size = 30,face="bold"),
plot.subtitle = element_text(size = 18),
legend.title=element_text(size=12, face="bold"),
legend.text=element_text(size=15),
axis.title=element_text(size=15, face="bold"),
axis.text=element_text(size=13),
plot.caption=element_text(size=13, hjust=0),
strip.text = element_text(face="bold", size=13, hjust=0),
# This puts the legend across the top
legend.position="top",
legend.direction="horizontal",
# removes label for legend
#legend.title = element_blank(),
...
)
}
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +
geom_bar(stat="identity") +
coord_flip() + theme_gfx
library(readr)
library(ggplot2)
library(ggthemes)
theme_gfx <- function(...) {
theme_fivethirtyeight() +
theme(
# edit background colors
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
panel.background=element_rect(fill="#E0E0E0"),
strip.background=element_rect(fill="#E0E0E0"),
# edit font sizes
plot.title = element_text(size = 30,face="bold"),
plot.subtitle = element_text(size = 18),
legend.title=element_text(size=12, face="bold"),
legend.text=element_text(size=15),
axis.title=element_text(size=15, face="bold"),
axis.text=element_text(size=13),
plot.caption=element_text(size=13, hjust=0),
strip.text = element_text(face="bold", size=13, hjust=0),
# This puts the legend across the top
legend.position="top",
legend.direction="horizontal",
# removes label for legend
#legend.title = element_blank(),
...
)
}
df <- read_csv("dfCrime.csv")
df <-df[order(df$Year_Quarter),]
df$sort <- seq.int(nrow(df))
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +
geom_bar(stat="identity") +
coord_flip() + theme_gfx
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +
geom_bar(stat="identity") +
coord_flip() + theme_gfx()
basebar <- basebar + labs(
title="Response to resistance",
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar
?theme
library(readr)
library(ggplot2)
library(ggthemes)
theme_gfx <- function(...) {
theme_fivethirtyeight() +
theme(
# edit background colors
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
panel.background=element_rect(fill="#E0E0E0"),
strip.background=element_rect(fill="#E0E0E0"),
# edit font sizes
plot.title = element_text(size = 30,face="bold"),
plot.subtitle = element_text(size = 18),
legend.title=element_text(size=12, face="bold"),
legend.text=element_text(size=15),
axis.title=element_text(size=15, face="bold"),
axis.text=element_text(size=13),
plot.caption=element_text(size=13, hjust=0),
strip.text = element_text(face="bold", size=13, hjust=0),
# This puts the legend across the top
legend.position="top",
legend.direction="horizontal",
# removes label for legend
#legend.title = element_blank(),
...
)
}
df <- read_csv("dfRTR.csv")
head(df)
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +
geom_bar(stat="identity") +
coord_flip() + theme_gfx()
basebar <- basebar + labs(
title="Response to resistance",
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar
dev.cur()
png(filename = "name.png",width = 600, height = 500, units = "px")
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +
geom_bar(stat="identity") +
coord_flip() + theme_gfx()
basebar <- basebar + labs(
title="Response to resistance",
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar
dev.off()
dev.cur()
pdf(file="name.pdf", width = 7, height = 5)
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +
geom_bar(stat="identity") +
coord_flip() + theme_gfx()
basebar <- basebar + labs(
title="Response to resistance",
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar
dev.off()
dev.cur()
pdf(file="nameBW.pdf", width = 7, height = 5)
basebar <- ggplot(df) +
aes(x = reorder(Year_Quarter, -sort),
y = Total_RTR,
fill = factor(year)) +
geom_bar(stat="identity") +
coord_flip() + theme_gfx()
basebar <- basebar + labs(
title="Response to resistance",
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + scale_x_discrete(
labels=c("4Q","3Q","2Q","2016 1Q","4Q","3Q","2Q","2015 1Q","4Q","3Q","2Q","2014 1Q")
)
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR - (Total_RTR * 0.025),
hjust = 1,
label = Total_RTR),
size=5,
fontface="bold",
color="white"
)
basebar <- basebar + scale_colour_grey(start = 0, end = 0.65) + scale_fill_grey(start = 0, end = 0.65)
basebar
dev.off()
