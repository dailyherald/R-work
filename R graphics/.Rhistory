legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
suspect
library(readr)
df <- read_csv("homeExem.csv")
names(df)
summary(df)
library(ggplot2)
library(ggthemes)
boxgfx <- ggplot(df) +
aes(x = County,
y = ExemRate,
fill = factor(County)
) +
geom_boxplot() +
theme_fivethirtyeight() + geom_jitter()
boxgfx <- boxgfx + labs(
title="Accepted exemptions", # your headline
subtitle="Some assessors are more diligent about\ntracking the validity of homestead exemptions\nthat can reduce a home's assessed value\nby $6,000 to $7,000.",
x="County",
y="PERCENT WITH\nHOMESTEAD EXEMPTIONS",
caption="\n* For brevity, includes two townships in Will County.\nSource: County assessment offices")
boxgfx <- boxgfx +
theme(legend.position="None")
boxgfx <- boxgfx + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
boxgfx
dev.cur()
png(filename = "ggplotBox.png",width = 600, height = 500, units = "px")
boxgfx <- ggplot(df) +
aes(x = County,
y = ExemRate,
fill = factor(County)
) +
geom_boxplot() +
theme_fivethirtyeight() + geom_jitter()
boxgfx <- boxgfx + labs(
title="Accepted exemptions", # your headline
subtitle="Some assessors are more diligent about\ntracking the validity of homestead exemptions\nthat can reduce a home's assessed value\nby $6,000 to $7,000.",
x="County",
y="PERCENT WITH\nHOMESTEAD EXEMPTIONS",
caption="\n* For brevity, includes two townships in Will County.\nSource: County assessment offices")
boxgfx <- boxgfx +
theme(legend.position="None")
boxgfx <- boxgfx + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
boxgfx
dev.off()
dev.cur()
png(filename = "ggplotBox.png",width = 600, height = 500, units = "px")
boxgfx <- ggplot(df) +
aes(x = County,
y = ExemRate,
fill = factor(County)
) +
geom_boxplot() +
theme_fivethirtyeight() + geom_jitter()
boxgfx <- boxgfx + labs(
title="Accepted exemptions", # your headline
subtitle="Some assessors are more diligent about tracking \nthe validity of homestead exemptions that can reduce \na home's assessed value by $6,000 to $7,000.",
x="County",
y="PERCENT WITH\nHOMESTEAD EXEMPTIONS",
caption="\n* For brevity, includes two townships in Will County.\nSource: County assessment offices")
boxgfx <- boxgfx +
theme(legend.position="None")
boxgfx <- boxgfx + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
boxgfx
dev.off()
library(readr)
df <- read_csv("homeExem.csv")
names(df)
summary(df)
library(ggplot2)
library(ggthemes)
boxgfx <- ggplot(df) +
aes(x = County,
y = ExemRate,
fill = factor(County)
) +
geom_boxplot() +
theme_fivethirtyeight() +
geom_jitter()
boxgfx <- boxgfx + labs(
title="Accepted exemptions", # your headline
subtitle="Some assessors are more diligent about tracking \nthe validity of homestead exemptions that can reduce \na home's assessed value by $6,000 to $7,000.",
x="County",
y="PERCENT WITH\nHOMESTEAD EXEMPTIONS",
caption="\n* For brevity, includes two townships in Will County.\nSource: County assessment offices")
boxgfx <- boxgfx +
theme(legend.position="None")
boxgfx <- boxgfx + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
boxgfx
library(readr)
df <- read_csv("ElginUOF.csv")
summary(df)
df[order(df$Year_Quarter),]
df
elgYears <- c(2014,2014,2014,2014,2015,2015,2015,2015,2016,2016,2016,2016)
years <- matrix(elgYears,12,1)
years
df <- cbind(years,df)
df$force <- df$UOF_only + df$Total_transitions
names(df)
dfLook <- subset(df, select = c("years","Year_Quarter","force","Total_officer","Total_suspect"))
dfLook
dfLook$Officer_major <- df$Officer_mayor
dfLook$Suspect_major <- df$Suspect_major
write_csv(dfLook,"dfLook.csv")
summary(dfLook)
library(ggplot2)
library(ggthemes)
qplot(force,Total_officer,
data=dfLook,
xlab="UOF incidents",
ylab="officer injuried") +
stat_smooth(method="lm") +
facet_grid(. ~ factor(Officer_major))
qplot(force,Total_officer,
data=dfLook,
xlab="UOF incidents",
ylab="officer injuried") +
stat_smooth(method="lm") +
facet_grid(. ~ factor(years))
summary(fit_officer)
officer <- ggplot(dfLook) +
aes(x=force,
y=Total_officer
) +
geom_point(stat="identity",
size = 3,
shape=21,
color="black",
aes(
fill=factor(years) )
) +
geom_smooth(method=lm) +
theme_fivethirtyeight()
officer <- officer +
labs(
title="Use of force and officer injuries", # your headline
subtitle="Subhead here",
x="USE OF FORCE INCIDENTS",
y="INJURIES TO OFFICERS",
caption="\nSource: Elgin police") +
scale_y_continuous(breaks=c(seq(0,10,2)) )
officer <- officer +
theme(legend.position="top",
legend.direction="horizontal",
legend.title = element_blank())
officer <- officer + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
officer
qplot(force,Total_officer,
data=dfLook,
xlab="UOF incidents",
ylab="officer injuried") +
stat_smooth(method="lm") +
facet_grid(factor(Officer_major) ~ factor(years))
qplot(force,Total_officer,
data=dfLook,
xlab="UOF incidents",
ylab="officer injuried") +
stat_smooth(method="lm") +
facet_grid(factor(Officer_major) ~ factor(years))
officer <- ggplot(dfLook) +
aes(x=force,
y=Total_officer
) +
geom_point(stat="identity",
size = 3,
shape=21,
color="black",
aes(
fill=factor(years) )
) +
geom_smooth(method=lm) +
theme_fivethirtyeight()
officer <- officer +
labs(
title="Use of force and officer injuries", # your headline
subtitle="There's not much connection between \nuse of physical force and officer injuries",
x="USE OF FORCE INCIDENTS",
y="INJURIES TO OFFICERS",
caption="\nSource: Elgin police") +
scale_y_continuous(breaks=c(seq(0,10,2)) )
officer <- officer +
theme(legend.position="top",
legend.direction="horizontal",
legend.title = element_blank())
officer <- officer + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
officer
library(readr)
elgCrime <- read_csv("ElginUOF.csv")
ls() # lists the data sets loaded
class(elgCrime) # see's what the data is
dim(elgCrime) # finds dimensions in rows and columns
nrow(elgCrime) # finds number of rows
ncol(elgCrime) # finds number of columns
object.size(elgCrime) # size of the data set in memory used
names(elgCrime) # returns vector of column names
head(elgCrime) # looks at first six columns (with column names)
head(elgCrime, 10) # looks at first 10 rows
View(elgCrime)
summary(elgCrime)
hist(elgCrime$Total_RTR_incidents, breaks=10, main="Breaks = 10", col="green")
reg <- table(elgCrime$Total_RTR_incidents) # subsets a matrices
reg
barplot(reg,col="wheat",main="Number of RTR incidents")
boxplot(UOF_only~Total_RTR_incidents, data=elgCrime, col="red", xlab="Total RTR", ylab="UOF only", col.axis="blue",col.lab = "red")
title(main = "UOF in Total RTR")
elgCrime[order(elgCrime$Year_Quarter),]
elgYears <- c(2014,2014,2014,2014,2015,2015,2015,2015,2016,2016,2016,2016)
elgYears
years <- matrix(elgYears,12,1)
years
df <- cbind(years,elgCrime)
df
?readr
write_csv(df,"dfCrime.csv")
d <- density(df$Total_RTR_incidents)
plot(d, main="Total RTR incidents") # plots the results
library(readr)
df <- read_csv("dfCrime.csv")
names(df)
summary(df)
library(ggplot2)
library(ggthemes)
qplot(Total_RTR_incidents,
data=df,
alpha=.05, # sets transparency
fill=factor(years)
)
qplot(Total_RTR_incidents, data=df,
geom="density",
color=factor(years),
fill=factor(years),
linetype = factor(years),
alpha=I(.5), # I() keeps alpha out of legend
main="Distribution of RTR incidents",
xlab="Total RTR incidents",
ylab="Density")
qplot(y=Total_RTR_incidents,
data=df
) + geom_smooth(method = "lm")
qplot(y=Total_RTR_incidents,
data=df,
color=factor(years)
)
qplot(UOF_only,Total_RTR_incidents,
data=df,
geom=c("point","smooth")
)
qplot(UOF_only,Total_RTR_incidents,
data=df,
color=factor(years)
) + geom_smooth(method = "lm")#, se = FALSE)
qplot(SOF_only,UOF_only,
data=df,
color=factor(years),
xlab="SOF", ylab="UOF") + facet_grid(. ~ factor(years))
library(readr)
df <- read_csv("dfRTR.csv")
names(df)
library(ggplot2)
library(ggthemes)
basebar <- ggplot(df) +
aes(x = Year_Quarter,
y = Total_RTR_incidents,
fill = factor(years),
label = Total_RTR_incidents) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip() + theme_fivethirtyeight()
basebar <- basebar + labs(
title="Response to resistance", # your headline
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR_incidents - (Total_RTR_incidents * 0.025),
hjust = 1,
label = Total_RTR_incidents),
size=5,
fontface="bold",
color="white"
)
basebar <- basebar + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
basebar
dev.cur()
png(filename = "ggplotBars.png",width = 600, height = 500, units = "px")
basebar <- ggplot(df) +
aes(x = Year_Quarter,
y = Total_RTR_incidents,
fill = factor(years),
label = Total_RTR_incidents) + # have the values appear on the bars
geom_bar(stat="identity") +
coord_flip() + theme_fivethirtyeight()
basebar <- basebar + labs(
title="Response to resistance", # your headline
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="RESPONSE TO RESISTANCE INSTANCES",
caption="\nSource: Elgin police")
basebar <- basebar + theme(legend.position="None")
basebar <- basebar + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = Total_RTR_incidents - (Total_RTR_incidents * 0.025),
hjust = 1,
label = Total_RTR_incidents),
size=5,
fontface="bold",
color="white"
)
basebar <- basebar + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
basebar
dev.off()
library(readr)
df <- read_csv("dfsubset.csv")
names(df)
library(ggplot2)
library(ggthemes)
df$force <- factor(df$force, levels = c("Total_transitions","SOF_only","UOF_only"),
labels = c("Transitions","Show of force","Use of force" ))
stacked <- ggplot(df) + # ggplot(dataframe name)
aes(x =Year_Quarter, # column for the x axis
y = value, # Column with values that get plotted
fill = force, # Column with values that decide color
label = value) + # have the values appear on the bars
geom_bar(stat = "identity") + # leave these last lines alone
coord_flip() + theme_fivethirtyeight()
stacked <- stacked + labs(
title="Response to resistance", # your headline
subtitle="Elgin police have increased their use of\nnon-lethal force in response to resistance.",
x="YEAR, QUARTER",
y="TYPES OF RESPONSE TO RESISTANCE",
caption="\nNote: Show of Force and Use of Force are incidents where \npolice only warned or only used force in repsonse to resistance. \nTransition is incidents where police showed then used force. \nSource: Elgin police")
stacked <- stacked +
theme(legend.position="top",
legend.direction="horizontal",
legend.title = element_blank())
stacked <- stacked + geom_text(
position = "stack",
aes(x = Year_Quarter,
y = value - (value * 0.025),
hjust = 1,
label = value),
size=5,
fontface="bold",
color="white"
)
stacked <- stacked + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
stacked
library(readr)
df <- read_csv("ElginUOF.csv")
summary(df)
df[order(df$Year_Quarter),]
df
elgYears <- c(2014,2014,2014,2014,2015,2015,2015,2015,2016,2016,2016,2016)
years <- matrix(elgYears,12,1)
years
df <- cbind(years,df)
df$force <- df$UOF_only + df$Total_transitions
names(df)
dfLook <- subset(df, select = c("years","Year_Quarter","force","Total_officer","Total_suspect"))
dfLook
dfLook$Officer_major <- df$Officer_mayor
dfLook$Suspect_major <- df$Suspect_major
write_csv(dfLook,"dfLook.csv")
summary(dfLook)
library(ggplot2)
library(ggthemes)
qplot(force,Total_officer,
data=dfLook,
xlab="UOF incidents",
ylab="officer injuried") +
stat_smooth(method="lm") +
facet_grid(. ~ factor(Officer_major))
qplot(force,Total_officer,
data=dfLook,
xlab="UOF incidents",
ylab="officer injuried") +
stat_smooth(method="lm") +
facet_grid(. ~ factor(years))
qplot(force,Total_officer,
data=dfLook,
xlab="UOF incidents",
ylab="officer injuried") +
stat_smooth(method="lm") +
facet_grid(factor(Officer_major) ~ factor(years))
fit_officer <- lm(force ~ Total_officer, data = dfLook)
summary(fit_officer)
officer <- ggplot(dfLook) +
aes(x=force,
y=Total_officer
) +
geom_point(stat="identity",
size = 3,
shape=21,
color="black",
aes(
fill=factor(years) ) # different colors for years
) +
geom_smooth(method=lm) +
theme_fivethirtyeight()
officer <- officer +
labs(
title="Use of force and officer injuries", # your headline
subtitle="There's not much connection between \nuse of physical force and officer injuries",
x="USE OF FORCE INCIDENTS",
y="INJURIES TO OFFICERS",
caption="\nSource: Elgin police") +
scale_y_continuous(breaks=c(seq(0,10,2)) )
officer <- officer +
theme(legend.position="top",
legend.direction="horizontal",
legend.title = element_blank())
officer <- officer + theme(
plot.background = element_rect(fill = "white"),
legend.background = element_rect(fill = "white"),
plot.title = element_text(size = 32),
plot.subtitle = element_text(size = 20),
legend.text=element_text(size=16),
axis.title=element_text(size=16, face="bold"),
axis.text=element_text(size=14),
plot.caption=element_text(size=14, hjust=0)
)
officer
